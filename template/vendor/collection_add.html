
{% extends 'vendor/base.html' %}
{% load static %}
{% load static %}
{% load leaflet_tags %}

{% block head %}
	<title> Ftrina - Dashboard - Add Category </title>
	<!-- Tags Input -->
<link rel="stylesheet" href='{% static "vendor/plugins/tagsinput/bootstrap-tagsinput.min.css"%}'>
{% endblock %}

{% block content %}
<form action="" method="post" >{% csrf_token %}
				<main class="main-content p-5" role="main">
					<div class="row">
						<div class="col-md-12">
							<h1>Collection</h1>
						</div>
					</div>
					<div class="row mb-5">
						<div class="col-md-12">
							<div class="card">
								<div class="card-header">
									<code>Add collection Information</code>
									<div class="progress">
										<div class="progress-bar progress-bar-sm bg-gradient" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
									</div>
									<div class="header-btn-block">
										<a href="{%url 'dashboard_collection' %}" class="btn btn-success waves-effect waves-light">
											<i class="fa fa-arrow-left"></i> 
											Back
										</a>
									</div>
								</div>
								<div class="card-body">
									<div class="row">
										<div class="col-lg-12">
											<div class="form-group">
												{{form.name}}
												{{form.keywords}}
											</div>
											<button type="submit" class="btn btn-danger" >Save</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<h1>Product</h1>
						</div>
					</div>


					<div class="row mb-5">
						<div class="col-md-12">
							<div class="card">
								<div class="card-header">
									<code>Your Product</code>
									<p class="task-list-stats">
										<span class="task-list-completed">0</span> of <span class="task-list-total">0</span> Products selected
									</p>
									<div class="progress">
										<div class="progress-bar progress-bar-sm bg-gradient" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
									</div>
									<div class="header-btn-block">
										<a href="{%url 'dashboard_products_add' %}" class="btn btn-success waves-effect waves-light">
											<i class="batch-icon batch-icon-add"></i> 
											Add New
										</a>
									</div>
								</div>
								<div class="card-task-list">
									<ul class="task-list">
										{%for o in products %}
										<li class="task-list-item">
											<div index="{{ forloop.counter0 }}" value="{{o.id}}" class="custom-control custom-checkbox">
												<input type="checkbox" value="{{o.id}}" class="custom-control-input">
												<label for="products{{ forloop.counter0 }}" class="custom-control-label">{{o.name}}</label>
											</div>
											<div class="task-item-details">
												{% autoescape off %}{{ variable }}
												{{ o.description }}
												{% endautoescape %} 
											</div>
											<div class="task-item-controls">
												<a role="button" class="btn btn-info btn-sm show-task" href="#">
													<span class="batch-icon batch-icon-arrow-down"></span>
												</a>
											</div>
										</li>
										{%endfor%}
									</ul>
								</div>
							</div>
						</div>
					</div>
{{form.products}}
</form>
				</main>
{% endblock %}

{% block foot %}
<script type="text/javascript" src='{% static "vendor/plugins/tagsinput/bootstrap-tagsinput.min.js"%}'></script>



<script type="text/javascript">


var products = [];
$( ".custom-checkbox" ).on( "click", function(index, data){
var index = $(this).attr("index");
var value = $(this).attr("value");
if (  products[index] ) {
products[index] = null ;
$("#id_products").val(  JSON.stringify(products)  );
} else {
products[index] = $(this).attr("value") ;
$("#id_products").val(  JSON.stringify(products)  );
}

});
</script>
{% endblock %}





