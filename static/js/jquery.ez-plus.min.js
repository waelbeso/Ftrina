"function"!=typeof Object.create&&(Object.create=function(o){function e(){}return e.prototype=o,new e}),function(o,e,i,t){var n={init:function(e,i){function t(){var o=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"===e?i:3&i|8).toString(16)});return e}var n=this;if(n.elem=i,n.$elem=o(i),n.options=o.extend({},o.fn.ezPlus.options,n.responsiveConfig(e||{})),n.imageSrc=n.$elem.data(n.options.attrImageZoomSrc)?n.$elem.data(n.options.attrImageZoomSrc):n.$elem.attr("src"),n.options.enabled){n.options.tint&&(n.options.lensColour="transparent",n.options.lensOpacity="1"),"inner"===n.options.zoomType&&(n.options.showLens=!1),"lens"===n.options.zoomType&&(n.options.zoomWindowWidth=0),n.options.zoomId===-1&&(n.options.zoomId=t()),n.$elem.parent().removeAttr("title").removeAttr("alt"),n.zoomImage=n.imageSrc,n.refresh(1);var s=n.options.galleryEvent+".ezpspace";s+=n.options.touchEnabled?" touchend.ezpspace":"",n.$galleries=o(n.options.gallery?"#"+n.options.gallery:n.options.gallerySelector),n.$galleries.on(s,n.options.galleryItem,function(e){if(n.options.galleryActiveClass&&(o(n.options.galleryItem,n.$galleries).removeClass(n.options.galleryActiveClass),o(this).addClass(n.options.galleryActiveClass)),"A"===this.tagName&&e.preventDefault(),o(this).data(n.options.attrImageZoomSrc)?n.zoomImagePre=o(this).data(n.options.attrImageZoomSrc):n.zoomImagePre=o(this).data("image"),n.swaptheimage(o(this).data("image"),n.zoomImagePre),"A"===this.tagName)return!1})}},refresh:function(o){var e=this;setTimeout(function(){e.fetch(e.imageSrc,e.$elem,e.options.minZoomLevel)},o||e.options.refresh)},fetch:function(o,e,i){var t=this,n=new Image;n.onload=function(){n.width/e.width()<=i?t.largeWidth=e.width()*i:t.largeWidth=n.width,n.height/e.height()<=i?t.largeHeight=e.height()*i:t.largeHeight=n.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},t.setImageSource(n,o)},setImageSource:function(o,e){o.src=e},startZoom:function(){function e(){return{display:"none",position:"absolute",height:s.options.zoomWindowHeight,width:s.options.zoomWindowWidth,border:""+s.options.borderSize+"px solid "+s.options.borderColour,backgroundSize:""+s.largeWidth/s.currentZoomLevel+"px "+s.largeHeight/s.currentZoomLevel+"px",backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:""+s.options.zoomWindowBgColour,overflow:"hidden",zIndex:100}}function i(){var o=s.$elem.css("border-left-width");return{display:"none",position:"absolute",height:s.nzHeight,width:s.nzWidth,marginTop:o,marginLeft:o,border:""+s.options.borderSize+"px solid "+s.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",cursor:s.options.cursor,overflow:"hidden",zIndex:s.options.zIndex}}function t(){return s.nzHeight<s.options.zoomWindowHeight/s.heightRatio?s.lensHeight=s.nzHeight:s.lensHeight=s.options.zoomWindowHeight/s.heightRatio,s.largeWidth<s.options.zoomWindowWidth?s.lensWidth=s.nzWidth:s.lensWidth=s.options.zoomWindowWidth/s.widthRatio,{display:"none",position:"absolute",height:s.lensHeight,width:s.lensWidth,border:""+s.options.lensBorderSize+"px solid "+s.options.lensBorderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:s.options.lensColour,opacity:s.options.lensOpacity,cursor:s.options.cursor,zIndex:999,overflow:"hidden"}}function n(o){s.lastX===o.clientX&&s.lastY===o.clientY||(s.setPosition(o),s.currentLoc=o),s.lastX=o.clientX,s.lastY=o.clientY}var s=this;if(s.nzWidth=s.$elem.width(),s.nzHeight=s.$elem.height(),s.isWindowActive=!1,s.isLensActive=!1,s.isTintActive=!1,s.overWindow=!1,s.options.imageCrossfade){var a=o('<div class="zoomWrapper"/>').css({height:s.nzHeight,width:s.nzWidth});s.zoomWrap=s.$elem.wrap(a),s.$elem.css({position:"absolute"})}s.zoomLock=1,s.scrollingLock=!1,s.changeBgSize=!1,s.currentZoomLevel=s.options.zoomLevel,s.updateOffset(s),s.widthRatio=s.largeWidth/s.currentZoomLevel/s.nzWidth,s.heightRatio=s.largeHeight/s.currentZoomLevel/s.nzHeight,"window"===s.options.zoomType&&(s.zoomWindowStyle=e()),"inner"===s.options.zoomType&&(s.zoomWindowStyle=i()),"window"===s.options.zoomType&&(s.lensStyle=t()),s.tintStyle={display:"block",position:"absolute",height:s.nzHeight,width:s.nzWidth,backgroundColor:s.options.tintColour,opacity:0},s.lensRound={},"lens"===s.options.zoomType&&(s.lensStyle={display:"none",position:"absolute",float:"left",height:s.options.lensSize,width:s.options.lensSize,border:""+s.options.borderSize+"px solid "+s.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:s.options.lensColour,cursor:s.options.cursor}),"round"===s.options.lensShape&&(s.lensRound={borderRadius:s.options.lensSize/2+s.options.borderSize}),s.zoomContainer=o('<div class="zoomContainer" uuid="'+s.options.zoomId+'"/>'),s.zoomContainer.css({position:"absolute",top:s.nzOffset.top,left:s.nzOffset.left,height:s.nzHeight,width:s.nzWidth,zIndex:s.options.zIndex}),s.$elem.attr("id")&&s.zoomContainer.attr("id",s.$elem.attr("id")+"-zoomContainer"),o(s.options.zoomContainerAppendTo).append(s.zoomContainer),s.options.containLensZoom&&"lens"===s.options.zoomType&&s.zoomContainer.css("overflow","hidden"),"inner"!==s.options.zoomType&&(s.zoomLens=o('<div class="zoomLens"/>').css(o.extend({},s.lensStyle,s.lensRound)).appendTo(s.zoomContainer).click(function(){s.$elem.trigger("click")}),s.options.tint&&(s.tintContainer=o('<div class="tintContainer"/>'),s.zoomTint=o('<div class="zoomTint"/>').css(s.tintStyle),s.zoomLens.wrap(s.tintContainer),s.zoomTintcss=s.zoomLens.after(s.zoomTint),s.zoomTintImage=o('<img src="'+s.$elem.attr("src")+'">').css({position:"absolute",top:0,left:0,height:s.nzHeight,width:s.nzWidth,maxWidth:"none"}).appendTo(s.zoomLens).click(function(){s.$elem.trigger("click")})));var h=isNaN(s.options.zoomWindowPosition)?"body":s.zoomContainer;s.zoomWindow=o('<div class="zoomWindow"/>').css(o.extend({zIndex:999,top:s.windowOffsetTop,left:s.windowOffsetLeft},s.zoomWindowStyle)).appendTo(h).click(function(){s.$elem.trigger("click")}),s.zoomWindowContainer=o('<div class="zoomWindowContainer" />').css({width:s.options.zoomWindowWidth}),s.zoomWindow.wrap(s.zoomWindowContainer),"lens"===s.options.zoomType&&s.zoomLens.css({backgroundImage:'url("'+s.imageSrc+'")'}),"window"===s.options.zoomType&&s.zoomWindow.css({backgroundImage:'url("'+s.imageSrc+'")'}),"inner"===s.options.zoomType&&s.zoomWindow.css({backgroundImage:'url("'+s.imageSrc+'")'}),s.options.touchEnabled&&(s.$elem.on("touchmove.ezpspace",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];s.setPosition(e)}),s.zoomContainer.on("touchmove.ezpspace",function(o){s.setElements("show"),o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];s.setPosition(e)}),s.zoomContainer.on("touchend.ezpspace",function(o){s.showHideWindow("hide"),s.options.showLens&&s.showHideLens("hide"),s.options.tint&&"inner"!==s.options.zoomType&&s.showHideTint("hide")}),s.$elem.on("touchend.ezpspace",function(o){s.showHideWindow("hide"),s.options.showLens&&s.showHideLens("hide"),s.options.tint&&"inner"!==s.options.zoomType&&s.showHideTint("hide")}),s.options.showLens&&(s.zoomLens.on("touchmove.ezpspace",function(o){o.preventDefault();var e=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];s.setPosition(e)}),s.zoomLens.on("touchend.ezpspace",function(o){s.showHideWindow("hide"),s.options.showLens&&s.showHideLens("hide"),s.options.tint&&"inner"!==s.options.zoomType&&s.showHideTint("hide")}))),s.$elem.on("mousemove.ezpspace",function(o){s.overWindow===!1&&s.setElements("show"),s.lastX===o.clientX&&s.lastY===o.clientY||(s.setPosition(o),s.currentLoc=o),s.lastX=o.clientX,s.lastY=o.clientY}),s.zoomContainer.on("click.ezpspace touchstart.ezpspace",s.options.onImageClick),s.zoomContainer.on("mousemove.ezpspace",function(o){s.overWindow===!1&&s.setElements("show"),n(o)});var d=null;"inner"!==s.options.zoomType&&(d=s.zoomLens),s.options.tint&&"inner"!==s.options.zoomType&&(d=s.zoomTint),"inner"===s.options.zoomType&&(d=s.zoomWindow),d&&d.on("mousemove.ezpspace",n),s.zoomContainer.add(s.$elem).mouseenter(function(){s.overWindow===!1&&s.setElements("show")}).mouseleave(function(){s.scrollLock||(s.setElements("hide"),s.options.onDestroy(s.$elem))}),"inner"!==s.options.zoomType&&s.zoomWindow.mouseenter(function(){s.overWindow=!0,s.setElements("hide")}).mouseleave(function(){s.overWindow=!1}),s.options.minZoomLevel?s.minZoomLevel=s.options.minZoomLevel:s.minZoomLevel=2*s.options.scrollZoomIncrement,s.options.scrollZoom&&s.zoomContainer.add(s.$elem).on("wheel DOMMouseScroll MozMousePixelScroll",function(e){s.scrollLock=!0,clearTimeout(o.data(this,"timer")),o.data(this,"timer",setTimeout(function(){s.scrollLock=!1},250));var i=e.originalEvent.deltaY||e.originalEvent.detail*-1;if(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),0===i)return!1;var t;return i/120>0?(t=parseFloat(s.currentZoomLevel)-s.options.scrollZoomIncrement,t>=parseFloat(s.minZoomLevel)&&s.changeZoomLevel(t)):(s.fullheight||s.fullwidth)&&s.options.mantainZoomAspectRatio||(t=parseFloat(s.currentZoomLevel)+s.options.scrollZoomIncrement,s.options.maxZoomLevel?t<=s.options.maxZoomLevel&&s.changeZoomLevel(t):s.changeZoomLevel(t)),!1})},destroy:function(){var e=this;e.$elem.off(".ezpspace"),e.$galleries.off(".ezpspace"),o(e.zoomContainer).remove(),e.options.loadingIcon&&e.spinner&&e.spinner.length&&(e.spinner.remove(),delete e.spinner)},getIdentifier:function(){var o=this;return o.options.zoomId},setElements:function(o){var e=this;return!!e.options.zoomEnabled&&("show"===o&&e.isWindowSet&&("inner"===e.options.zoomType&&e.showHideWindow("show"),"window"===e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&e.showHideLens("show"),e.options.tint&&"inner"!==e.options.zoomType&&e.showHideTint("show")),void("hide"===o&&("window"===e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&e.showHideTint("hide"))))},setPosition:function(o){var e=this;if(!e.options.zoomEnabled)return!1;if(e.nzHeight=e.$elem.height(),e.nzWidth=e.$elem.width(),e.updateOffset(e),e.options.tint&&"inner"!==e.options.zoomType&&e.zoomTint.css({top:0,left:0}),e.options.responsive&&!e.options.scrollZoom&&e.options.showLens){e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.lensHeight=e.nzHeight:e.lensHeight=e.options.zoomWindowHeight/e.heightRatio,e.largeWidth<e.options.zoomWindowWidth?e.lensWidth=e.nzWidth:e.lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.widthRatio=e.largeWidth/e.nzWidth,e.heightRatio=e.largeHeight/e.nzHeight,"lens"!==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.lensHeight=e.nzHeight:e.lensHeight=e.options.zoomWindowHeight/e.heightRatio,e.nzWidth<e.options.zoomWindowHeight/e.heightRatio?e.lensWidth=e.nzWidth:e.lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.zoomLens.css({width:e.lensWidth,height:e.lensHeight}),e.options.tint&&e.zoomTintImage.css({width:e.nzWidth,height:e.nzHeight})),"lens"===e.options.zoomType&&e.zoomLens.css({width:e.options.lensSize,height:e.options.lensSize})}if(e.zoomContainer.css({top:e.nzOffset.top,left:e.nzOffset.left,width:e.nzWidth,height:e.nzHeight}),e.mouseLeft=parseInt(o.pageX-e.nzOffset.left),e.mouseTop=parseInt(o.pageY-e.nzOffset.top),"window"===e.options.zoomType){var i=e.zoomLens.height()/2,t=e.zoomLens.width()/2;e.Etoppos=e.mouseTop<0+i,e.Eboppos=e.mouseTop>e.nzHeight-i-2*e.options.lensBorderSize,e.Eloppos=e.mouseLeft<0+t,e.Eroppos=e.mouseLeft>e.nzWidth-t-2*e.options.lensBorderSize}return"inner"===e.options.zoomType&&(e.Etoppos=e.mouseTop<e.nzHeight/2/e.heightRatio,e.Eboppos=e.mouseTop>e.nzHeight-e.nzHeight/2/e.heightRatio,e.Eloppos=e.mouseLeft<0+e.nzWidth/2/e.widthRatio,e.Eroppos=e.mouseLeft>e.nzWidth-e.nzWidth/2/e.widthRatio-2*e.options.lensBorderSize),e.mouseLeft<0||e.mouseTop<0||e.mouseLeft>e.nzWidth||e.mouseTop>e.nzHeight?void e.setElements("hide"):(e.options.showLens&&(e.lensLeftPos=Math.floor(e.mouseLeft-e.zoomLens.width()/2),e.lensTopPos=Math.floor(e.mouseTop-e.zoomLens.height()/2)),e.Etoppos&&(e.lensTopPos=0),e.Eloppos&&(e.windowLeftPos=0,e.lensLeftPos=0,e.tintpos=0),"window"===e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-e.zoomLens.height()-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.zoomLens.width()-2*e.options.lensBorderSize)),"inner"===e.options.zoomType&&(e.Eboppos&&(e.lensTopPos=Math.max(e.nzHeight-2*e.options.lensBorderSize,0)),e.Eroppos&&(e.lensLeftPos=e.nzWidth-e.nzWidth-2*e.options.lensBorderSize)),"lens"===e.options.zoomType&&(e.windowLeftPos=((o.pageX-e.nzOffset.left)*e.widthRatio-e.zoomLens.width()/2)*-1,e.windowTopPos=((o.pageY-e.nzOffset.top)*e.heightRatio-e.zoomLens.height()/2)*-1,e.zoomLens.css({backgroundPosition:""+e.windowLeftPos+"px "+e.windowTopPos+"px"}),e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.zoomType&&e.zoomLens.css({backgroundSize:""+e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"}),e.zoomWindow.css({backgroundSize:""+e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"})):("lens"===e.options.zoomType&&e.zoomLens.css({backgroundSize:""+e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"}),e.zoomWindow.css({backgroundSize:""+e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"})),e.changeBgSize=!1),e.setWindowPosition(o)),e.options.tint&&"inner"!==e.options.zoomType&&e.setTintPosition(o),"window"===e.options.zoomType&&e.setWindowPosition(o),"inner"===e.options.zoomType&&e.setWindowPosition(o),e.options.showLens&&(e.fullwidth&&"lens"!==e.options.zoomType&&(e.lensLeftPos=0),e.zoomLens.css({left:e.lensLeftPos,top:e.lensTopPos})),void 0)},showHideZoomContainer:function(o){var e=this;"show"===o&&e.zoomContainer&&e.zoomContainer.show(),"hide"===o&&e.zoomContainer&&e.zoomContainer.hide()},showHideWindow:function(o){var e=this;"show"===o&&!e.isWindowActive&&e.zoomWindow&&(e.options.onShow(e),e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0),"hide"===o&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.options.onHide(e),e.isWindowActive=!1)},showHideLens:function(o){var e=this;"show"===o&&(e.isLensActive||(e.zoomLens&&(e.options.lensFadeIn?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show()),e.isLensActive=!0)),"hide"===o&&e.isLensActive&&(e.zoomLens&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide()),e.isLensActive=!1)},showHideTint:function(o){var e=this;"show"===o&&!e.isTintActive&&e.zoomTint&&(e.options.zoomTintFadeIn?e.zoomTint.css("opacity",e.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css("opacity",e.options.tintOpacity).animate(),e.zoomTint.show()),e.isTintActive=!0),"hide"===o&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPosition:function(o){},setWindowPosition:function(e){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=o(i.options.zoomWindowPosition),i.externalContainer.length||(i.externalContainer=o("#"+i.options.zoomWindowPosition)),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.options.zoomWindowHeight/2-i.nzHeight/2)*-1,i.windowOffsetLeft=i.nzWidth):o.noop();break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize)*-1):o.noop();break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=(i.zoomWindow.width()+2*i.options.borderSize)*-1;break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=(i.zoomWindow.width()+2*i.options.borderSize)*-1;break;case 10:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.options.zoomWindowHeight/2-i.nzHeight/2)*-1,i.windowOffsetLeft=(i.zoomWindow.width()+2*i.options.borderSize)*-1):o.noop();break;case 11:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=(i.zoomWindow.width()+2*i.options.borderSize)*-1;break;case 12:i.windowOffsetTop=(i.zoomWindow.height()+2*i.options.borderSize)*-1,i.windowOffsetLeft=(i.zoomWindow.width()+2*i.options.borderSize)*-1;break;case 13:i.windowOffsetTop=(i.zoomWindow.height()+2*i.options.borderSize)*-1,i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.zoomWindow.height()+2*i.options.borderSize)*-1,i.windowOffsetLeft=(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize)*-1):o.noop();break;case 15:i.windowOffsetTop=(i.zoomWindow.height()+2*i.options.borderSize)*-1,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=(i.zoomWindow.height()+2*i.options.borderSize)*-1,i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffsetY,i.windowOffsetLeft=i.nzWidth}if(i.isWindowSet=!0,i.windowOffsetTop=i.windowOffsetTop+i.options.zoomWindowOffsetY,i.windowOffsetLeft=i.windowOffsetLeft+i.options.zoomWindowOffsetX,i.zoomWindow.css({top:i.windowOffsetTop,left:i.windowOffsetLeft}),"inner"===i.options.zoomType&&i.zoomWindow.css({top:0,left:0}),i.windowLeftPos=((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)*-1,i.windowTopPos=((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)*-1,i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())*-1),i.Eroppos&&(i.windowLeftPos=(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())*-1),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"===i.options.zoomType||"inner"===i.options.zoomType)if(1===i.zoomLock&&(i.widthRatio<=1&&(i.windowLeftPos=0),i.heightRatio<=1&&(i.windowTopPos=0)),"window"===i.options.zoomType&&(i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0)),i.options.easing){i.xp||(i.xp=0),i.yp||(i.yp=0);var t=16;Number.isInteger(parseInt(i.options.easing))&&(t=parseInt(i.options.easing)),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)*-1,i.yp=((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)*-1,i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!==i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):Math.round(Math.abs(i.xp-i.windowLeftPos)+Math.abs(i.yp-i.windowTopPos))<1?(clearInterval(i.loop),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!==i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.xp+"px "+i.yp+"px"}))},t))}else i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"===i.options.zoomType&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"})},setTintPosition:function(o){var e=this,i=e.zoomLens.width(),t=e.zoomLens.height();e.updateOffset(e),e.tintpos=(o.pageX-e.nzOffset.left-i/2)*-1,e.tintposy=(o.pageY-e.nzOffset.top-t/2)*-1,e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=(e.nzHeight-t-2*e.options.lensBorderSize)*-1),e.Eroppos&&(e.tintpos=(e.nzWidth-i-2*e.options.lensBorderSize)*-1),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos,top:e.tintposy}))},swaptheimage:function(e,i){var t=this,n=new Image;if(t.options.loadingIcon&&!t.spinner){var s={background:'url("'+t.options.loadingIcon+'") no-repeat',height:t.nzHeight,width:t.nzWidth,zIndex:2e3,position:"absolute",backgroundPosition:"center center"};"inner"===t.options.zoomType&&s.setProperty("top",0),t.spinner=o('<div class="ezp-spinner"></div>').css(s),t.$elem.after(t.spinner)}else t.spinner&&t.spinner.show();t.options.onImageSwap(t.$elem),n.onload=function(){t.largeWidth=n.width,t.largeHeight=n.height,t.zoomImage=i,t.zoomWindow.css({backgroundSize:""+t.largeWidth+"px "+t.largeHeight+"px"}),t.swapAction(e,i)},t.setImageSource(n,i)},swapAction:function(e,i){var t=this,n=t.$elem.width(),s=t.$elem.height(),a=new Image;if(a.onload=function(){t.nzHeight=a.height,t.nzWidth=a.width,t.options.onImageSwapComplete(t.$elem),t.doneCallback()},t.setImageSource(a,e),t.currentZoomLevel=t.options.zoomLevel,t.options.maxZoomLevel=!1,"lens"===t.options.zoomType&&t.zoomLens.css("background-image",'url("'+i+'")'),"window"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+i+'")'),"inner"===t.options.zoomType&&t.zoomWindow.css("background-image",'url("'+i+'")'),t.currentImage=i,t.options.imageCrossfade){var h=t.$elem,d=h.clone();if(t.$elem.attr("src",e),t.$elem.after(d),d.stop(!0).fadeOut(t.options.imageCrossfade,function(){o(this).remove()}),t.$elem.width("auto").removeAttr("width"),t.$elem.height("auto").removeAttr("height"),h.fadeIn(t.options.imageCrossfade),t.options.tint&&"inner"!==t.options.zoomType){var p=t.zoomTintImage,r=p.clone();t.zoomTintImage.attr("src",i),t.zoomTintImage.after(r),r.stop(!0).fadeOut(t.options.imageCrossfade,function(){o(this).remove()}),p.fadeIn(t.options.imageCrossfade),t.zoomTint.css({height:s,width:n})}t.zoomContainer.css({height:s,width:n}),"inner"===t.options.zoomType&&(t.options.constrainType||(t.zoomWrap.parent().css({height:s,width:n}),t.zoomWindow.css({height:s,width:n}))),t.options.imageCrossfade&&t.zoomWrap.css({height:s,width:n})}else t.$elem.attr("src",e),t.options.tint&&(t.zoomTintImage.attr("src",i),t.zoomTintImage.attr("height",s),t.zoomTintImage.css("height",s),t.zoomTint.css("height",s)),t.zoomContainer.css({height:s,width:n}),t.options.imageCrossfade&&t.zoomWrap.css({height:s,width:n});if(t.options.constrainType){if("height"===t.options.constrainType){var l={height:t.options.constrainSize,width:"auto"};t.zoomContainer.css(l),t.options.imageCrossfade?(t.zoomWrap.css(l),t.constwidth=t.zoomWrap.width()):(t.$elem.css(l),t.constwidth=n);var m={height:t.options.constrainSize,width:t.constwidth};"inner"===t.options.zoomType&&(t.zoomWrap.parent().css(m),t.zoomWindow.css(m)),t.options.tint&&(t.tintContainer.css(m),t.zoomTint.css(m),t.zoomTintImage.css(m))}if("width"===t.options.constrainType){var w={height:"auto",width:t.options.constrainSize};t.zoomContainer.css(w),t.options.imageCrossfade?(t.zoomWrap.css(w),t.constheight=t.zoomWrap.height()):(t.$elem.css(w),t.constheight=s);var z={height:t.constheight,width:t.options.constrainSize};"inner"===t.options.zoomType&&(t.zoomWrap.parent().css(z),t.zoomWindow.css(z)),t.options.tint&&(t.tintContainer.css(z),t.zoomTint.css(z),t.zoomTintImage.css(z))}}},doneCallback:function(){var o=this;o.options.loadingIcon&&o.spinner&&o.spinner.length&&o.spinner.hide(),o.updateOffset(o),o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.currentZoomLevel=o.options.zoomLevel,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"window"===o.options.zoomType&&(o.nzHeight<o.options.zoomWindowHeight/o.heightRatio?o.lensHeight=o.nzHeight:o.lensHeight=o.options.zoomWindowHeight/o.heightRatio,o.nzWidth<o.options.zoomWindowWidth?o.lensWidth=o.nzWidth:o.lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.zoomLens&&o.zoomLens.css({width:o.lensWidth,height:o.lensHeight}))},getCurrentImage:function(){var o=this;return o.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?o("#"+e.options.gallery+" a").each(function(){var i="";o(this).data(e.options.attrImageZoomSrc)?i=o(this).data(e.options.attrImageZoomSrc):o(this).data("image")&&(i=o(this).data("image")),i===e.zoomImage?e.gallerylist.unshift({href:""+i,title:o(this).find("img").attr("title")}):e.gallerylist.push({href:""+i,title:o(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:o(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(o){var e=this;e.scrollingLock=!0,e.newvalue=parseFloat(o).toFixed(2);var i=e.newvalue,t=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),n=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth);"inner"!==e.options.zoomType&&(t<=i?(e.heightRatio=e.largeHeight/t/e.nzHeight,e.newvalueheight=t,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=i,e.fullheight=!1),n<=i?(e.widthRatio=e.largeWidth/n/e.nzWidth,e.newvaluewidth=n,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1),"lens"===e.options.zoomType&&(t<=i?(e.fullwidth=!0,e.newvaluewidth=t):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1))),"inner"===e.options.zoomType&&(t=parseFloat(e.largeHeight/e.nzHeight).toFixed(2),n=parseFloat(e.largeWidth/e.nzWidth).toFixed(2),i>t&&(i=t),i>n&&(i=n),t<=i?(e.heightRatio=e.largeHeight/i/e.nzHeight,i>t?e.newvalueheight=t:e.newvalueheight=i,e.fullheight=!0):(e.heightRatio=e.largeHeight/i/e.nzHeight,i>t?e.newvalueheight=t:e.newvalueheight=i,e.fullheight=!1),n<=i?(e.widthRatio=e.largeWidth/i/e.nzWidth,i>n?e.newvaluewidth=n:e.newvaluewidth=i,e.fullwidth=!0):(e.widthRatio=e.largeWidth/i/e.nzWidth,e.newvaluewidth=i,e.fullwidth=!1));var s=!1;"inner"===e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=n?s=!0:(s=!1,e.fullheight=!0,e.fullwidth=!0)),e.nzHeight>e.nzWidth&&(e.newvaluewidth<=n?s=!0:(s=!1,e.fullheight=!0,e.fullwidth=!0))),"inner"!==e.options.zoomType&&(s=!0),s&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({height:e.options.zoomWindowHeight/e.heightRatio})),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!==e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({width:e.options.zoomWindowWidth/e.widthRatio})),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),"inner"===e.options.zoomType&&(e.changeBgSize=!0,e.nzWidth>e.nzHeight?e.currentZoomLevel=e.newvaluewidth:e.nzHeight>=e.nzWidth&&(e.currentZoomLevel=e.newvaluewidth))),e.setPosition(e.currentLoc)},closeAll:function(){var o=this;o.zoomWindow&&o.zoomWindow.hide(),o.zoomLens&&o.zoomLens.hide(),o.zoomTint&&o.zoomTint.hide()},updateOffset:function(e){if("body"!==e.options.zoomContainerAppendTo){e.nzOffset=e.$elem.offset();var i=o(e.options.zoomContainerAppendTo).offset();e.nzOffset.top=e.$elem.offset().top-i.top,e.nzOffset.left=e.$elem.offset().left-i.left}else e.nzOffset=e.$elem.offset()},changeState:function(o){var e=this;"enable"===o&&(e.options.zoomEnabled=!0),"disable"===o&&(e.options.zoomEnabled=!1)},responsiveConfig:function(e){return e.respond&&e.respond.length>0?o.extend({},e,this.configByScreenWidth(e)):e},configByScreenWidth:function(i){var t=o(e).width(),n=o.grep(i.respond,function(o){var e=o.range.split("-");return t>=e[0]&&t<=e[1]});return n.length>0?n[0]:i}};o.fn.ezPlus=function(e){return this.each(function(){var i=Object.create(n);i.init(e,this),o.data(this,"ezPlus",i)})},o.fn.ezPlus.options={attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",galleryEvent:"click",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:o.noop,onDestroy:o.noop,onImageClick:o.noop,onImageSwap:o.noop,onImageSwapComplete:o.noop,onShow:o.noop,onHide:o.noop,onZoomedImageLoaded:o.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(window.jQuery,window,document);